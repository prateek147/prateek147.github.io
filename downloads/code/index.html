
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Prateek Gianchandani</title>
  <meta name="author" content="Prateek Gianchandani">

  
  <meta name="description" content="Hi. I&#8217;m Prateek Gianchandani. Security Researcher. Mountaineer. Diver. Dec 1st, 2014 Comments security Damn Vulnerable iOS App v1.4 launched I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://prateek147.github.io/downloads/code">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Prateek Gianchandani" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41877509-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/index.html">Home</a></li>
    
        <li ><a href="/security/">Security</a></li>
    
        <li ><a href="/ios/">iOS Development</a></li>
    
        <li ><a href="/everest/">Everest</a></li>
    
        <li ><a href="/archives/index.html">Archives</a></li>
    
        <li ><a href="http://damnvulnerableiosapp.com">DVIA</a></li>
    
        <li ><a href="/about/">About Me</a></li>
    
        <li ><a href="/hire-me/">Hire Me</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/prateek147" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://linkedin.com/in/prateekgianchandani" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/prateekg147" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://facebook.com/prateek.gianchandani" title="Facebook Profile"><i class="icon-facebook-sign social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
    <div class="span12">
      <div class="row-fluid">
        <div id="content">
          <div class="jumbotron">
  <div class="container">
    Hi. I&#8217;m Prateek Gianchandani.
    <h3 class="tagline">Security Researcher. Mountaineer. Diver.</h3>
  </div>
</div>


<div class="blog-index">
  
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-12-01T18:07:00+04:00" pubdate data-updated="true">Dec 1<span>st</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/12/01/damn-vulnerable-ios-app-v1-dot-4-launched#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/12/01/damn-vulnerable-ios-app-v1-dot-4-launched">Damn Vulnerable iOS App v1.4 launched</a></h1>
      <p>I am so excited to release the latest version of <a href="http://damnvulnerableiosapp.com">Damn Vulnerable iOS app for iOS 8.</a> Up till now, DVIA has been downloaded more than 75000 times and i can&rsquo;t wait for the count to reach 6 digits :&ndash;)</p>

<p>Following vulnerabilities and challenges have been added in the latest version.</p>

<ol>
<li>Sensitive information in memory</li>
<li> Webkit Caching (Insecure data storage)</li>
<li>Certificate pinning bypass </li>
</ol>


<p>You can download the latest version from <a href="http://damnvulnerableiosapp.com/#downloads">here</a>.
The source code is available on the project&rsquo;s github page <a href="https://github.com/prateek147/DVIA">here</a>.</p>

<h3>Manual Installation</h3>


<p>The easiest way is to install the application from Cydia. Add the source repo.kylelevin.com and search for DamnVulnerableiOSApp.</p>

<p><img src="/images/posts/dvia/3.png" width="320" height="568" alt="3"></p>


      
       <a href="/2014/12/01/damn-vulnerable-ios-app-v1-dot-4-launched">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-11-24T00:52:00+04:00" pubdate data-updated="true">Nov 24<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/11/24/android-application-hacking-with-insecure-bank-part-1#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/android/"><span class="badge">android</span></a>
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/11/24/android-application-hacking-with-insecure-bank-part-1">Android Application hacking with Insecure Bank Part 1</a></h1>
      <p>In this article series, we will learn at various concepts of Android application security while exploiting a vulnerable app InsecureBankv2. We will be looking at all the concepts from a noob&#8217;s perspective and hence i would recommend this blog series to beginners as well.</p>




<p>However, the first thing to do is set up a proper mobile pentesting platform for android application testing.</p>




<p>The first thing to do is download the Eclipse ADT bundle. You can then follow the instructions <a href="https://developer.android.com/sdk/installing/index.html?pkg=adt">here</a> to install the ADT bundle. Once this is done, make sure you install the necessary sdk packages and libraries by following the instructions <a href="https://developer.android.com/sdk/installing/adding-packages.html">here</a>.</p>





      
       <a href="/2014/11/24/android-application-hacking-with-insecure-bank-part-1">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-11-03T01:00:00+04:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/11/03/ios-application-security-part-36-bypassing-certificate-pinning-using-ssl-kill-switch#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/11/03/ios-application-security-part-36-bypassing-certificate-pinning-using-ssl-kill-switch">iOS Application Security Part 36 – Bypassing certificate pinning using SSL Kill switch</a></h1>
      <p>In this article, we will look at how we can analyze network traffic for applications that use certificate pinning. One of the best definitions i found of certificate pinning is mentioned below. It is taken directly from <a href="https://www.infinum.co/the-capsized-eight/articles/securing-mobile-banking-on-android-with-ssl-certificate-pinning">this</a> url.</p>




<p>
By default, when making an SSL connection, the client checks that the server’s certificate:</p>




<ul>
<li>has a verifiable chain of trust back to a trusted (root) certificate</li>
<li>matches the requested hostname</li>
<li>What it doesn&#8217;t do is check if the certificate in question is a specific certificate, namely the one you know your server is using.</li>
</ul>





      
       <a href="/2014/11/03/ios-application-security-part-36-bypassing-certificate-pinning-using-ssl-kill-switch">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-10-27T01:43:00+04:00" pubdate data-updated="true">Oct 27<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/10/27/wifite-walkthrough-part-2-cracking-wpa-access-points#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/10/27/wifite-walkthrough-part-2-cracking-wpa-access-points">Wifite Walkthrough part 2: Cracking WPA access points</a></h1>
      <p>In this article, we will look at cracking access points using WPA-PSK or WPA2-PSK using Wifite.</p>




<p>If you have used tools like airodump-ng, aircrack-ng etc to crack WPA access points before, you would know that the required thing to successfully crack a WPA-PSK network is a captured WPA four-way handshake. More details about the WPA four-way handshake can be found on <a href="http://en.wikipedia.org/wiki/IEEE_802.11i-2004">this</a> wikipedia page.</p>




<p>As mentioned in the previous article, there is a bug in Wifite that may or may not be there in your particular version of Wifite. The bug basically doesn&#8217;t aireplay-ng to function properly and displays an error like <i>aireplay-ng exited unexpectedly </i>. In order to fix this, you will have to make slight modifications in the code of wifite. You can install gedit (apt-get install gedit) which is a text editor and then edit the wifite python script (found in /usr/bin/wifite) using the steps mentioned <a href="https://code.google.com/p/wifite/issues/detail?id=127">here</a>. To open wifite, use the command <i>gedit /usr/bin/wifite</i>. This will open up the source code of wifite. Then replace every occurence of <i>cmd = [&#8216;aireplay-ng&#8217;,</i> with <i>cmd = [&#8216;aireplay-ng&#8217;,&#8217;&#8211;ignore-negative-one&#8217;,</i></p>





      
       <a href="/2014/10/27/wifite-walkthrough-part-2-cracking-wpa-access-points">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-10-27T01:41:00+04:00" pubdate data-updated="true">Oct 27<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/10/27/wifite-walkthrough-part-1-cracking-wep-access-points#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/10/27/wifite-walkthrough-part-1-cracking-wep-access-points">Wifite Walkthrough part 1: Cracking WEP access points</a></h1>
      <p>In this article series, we will look at a tool named Wifite suitable for automated auditing of wireless networks. Most of you who have experience in wireless pentesting would use tools like airmon-ng, aireplay-ng, airodump-ng, aircrack-ng to crack wireless networks. This would involve a sequence of steps, like capturing a specific numbers of IV&#8217;s in case of WEP, capturing the WPA handshake in case of WPA etc, and then subsequently using aircrack-ng to crack the password required for authentication to the network. Wifite aims to ease this process by using a wrapper over all these tools and thus making it super easy to crack Wifi networks.</p>




<p>Here is a list of features of Wifite as per its official <a href="https://code.google.com/p/wifite/">homepage</a>.</p>




<ul>
    <li>sorts targets by signal strength (in dB); cracks closest access points first</li>
    <li>automatically de-authenticates clients of hidden networks to reveal SSIDs</li>
    <li>numerous filters to specify exactly what to attack (wep/wpa/both, above certain signal strengths, channels, etc)</li>
    <li>customizable settings (timeouts, packets/sec, etc)</li> 
    <li>&#8220;anonymous&#8221; feature; changes MAC to a random address before attacking, then changes back when attacks are complete</li>
    <li>all captured WPA handshakes are backed up to wifite.py&#8217;s current directory</li>
    <li>smart WPA de-authentication; cycles between all clients and broadcast deauths</li>
    <li>stop any attack with Ctrl+C, with options to continue, move onto next target, skip to cracking, or exit</li>
    <li>displays session summary at exit; shows any cracked keys</li>
    <li>all passwords saved to cracked.txt</li>
    <li>built-in updater: ./wifite.py -upgrade</li>
</ul>





      
       <a href="/2014/10/27/wifite-walkthrough-part-1-cracking-wep-access-points">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-10-18T14:14:00+04:00" pubdate data-updated="true">Oct 18<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/10/18/ios-application-security-part-35-auditing-ios-applications-with-idb#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/10/18/ios-application-security-part-35-auditing-ios-applications-with-idb">iOS Application Security Part 35 – Auditing iOS Applications With iDB</a></h1>
      <p>In this article, we will look at another cool utility named iDB for pentesting iOS applications.</p>




<p>Before that, i would like to apologize for coming up late with this article. A lot of you have been requesting articles on different topics and i promise that i will write on them soon :). So since we are best friends again, let&#8217;s dive into this tool.</p>




<p>iDB is open source and you can download it from its <a href="https://github.com/dmayer/idb">Github</a> page. You can then follow the tutorial <a href="https://github.com/dmayer/idb/wiki/Getting-started">here</a> to know how to install it. Installation might take some time as there might be some dependencies you will have to install, so have some patience. Also, please note that it works with ruby versions 1.9 and 2.1 so make sure you set that version of ruby. You can use <i>rvm list</i> to list the versions of ruby installed on your system and then use <i>rvm use</i> followed by the version of ruby that you want to use.</p>





      
       <a href="/2014/10/18/ios-application-security-part-35-auditing-ios-applications-with-idb">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-18T16:59:00+04:00" pubdate data-updated="true">Apr 18<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/04/18/ios-application-security-part-34-tracing-method-calls-using-logify#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/04/18/ios-application-security-part-34-tracing-method-calls-using-logify">iOS Application Security Part 34 - Tracing Method calls using Logify</a></h1>
      <p>In the previous articles, we have seen how applications like Snoop-it can trace method calls specific to the application at runtime. This is very important in deducing the flow of the application. The same process can be performed by using a perl script named Logify.pl that comes installed with Theos. The script takes input as a header file and generates the hooking code that we can add in our tweak. We can also specify the classes we want to check. Once the tweak is installed on the device, whenever a method for that particular class is called, the tweak logs out the method along with the arguments to syslog. The first step here is to get the header files for a particular application. You can get the header files by using the -H option in class-dump-z. Once the headers folder is generated, you can copy it to your system.</p>


<p><img src="/images/posts/ios34/1.png" width="1389" height="315" alt="1"></p>


      
       <a href="/2014/04/18/ios-application-security-part-34-tracing-method-calls-using-logify">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-04-18T11:59:00+04:00" pubdate data-updated="true">Apr 18<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/04/18/ios-application-security-part-33-writing-tweaks-using-theos-cydia-substrate#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/04/18/ios-application-security-part-33-writing-tweaks-using-theos-cydia-substrate">iOS Application Security Part 33 - Writing tweaks using Theos (Cydia Substrate)</a></h1>
      <p>In some of the <a href="http://highaltitudehacks.com/security">previous</a> articles in this series, we have looked at how we can modify the behaviour of an application by patching it using IDA Pro, Hopper etc. However, doing this hasn&#8217;t been quite straightforward always. We can also use Cycript to modify the behaviour of an application by changing some of the method implementations, but the change isn&#8217;t permanent. This is where writing tweaks for an application comes in handy. A tweak is nothing but a run-time patch to an application using the Cydia Substrate framework. Cydia Substrate consists of 3 major components: MobileHooker, MobileLoader and safe mode. You can read about these 3 major components <a href="http://iphonedevwiki.net/index.php/MobileSubstrate">here</a>. Saurik has also written a complete series of documentation <a href="http://www.cydiasubstrate.com/">here</a>. Our main focus here would be not to go in depth and learn how to write tweaks for jailbroken devices but to understand there relevance to application security so we can quickly write our own tweaks when necessary.</p>





      
       <a href="/2014/04/18/ios-application-security-part-33-writing-tweaks-using-theos-cydia-substrate">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-25T21:59:00+04:00" pubdate data-updated="true">Mar 25<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/03/25/ios-application-security-part-32-automating-tasks-with-ios-reverse-engineering-toolkit-iret#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/03/25/ios-application-security-part-32-automating-tasks-with-ios-reverse-engineering-toolkit-iret">iOS Application Security Part 32 - Automating tasks with iOS Reverse Engineering Toolkit (iRET)</a></h1>
      <p>While doing security audit of iOS apps, there are a lot of tasks that we have to repeat every time. This includes finding out the class information for the app, checking if the application stores any important data in plist files, analyzing the content in the database files etc. These tasks can be a little time consuming every time and so it doesn&#8217;t make quite a lot of sense to repeat them over and over again for every app. We have also looked at some tools like <a href="http://highaltitudehacks.com/2013/08/20/ios-application-security-part-9-analyzing-security-of-ios-applications-using-snoop-it">Snoop-it</a> and <a href="http://highaltitudehacks.com/2013/09/17/ios-application-security-part-16-runtime-analysis-of-ios-applications-using-inalyzer">iNalyzer</a> that make our job easier by automating some of these tasks. In this article, we will talk about a new tool named iOS Reverse Engineering Toolkit (iRET) that has just been released to assist penetration testers in automating most of the tasks involved in a iOS penetration test. The project is developed and maintained by @S3Jensen.</p>




<p>In the author&#8217;s own words, here is what the toolkit does.</p>




<p><i>It&#8217;s a toolkit that allows you to automate many of the manual tasks an iOS penetration tester would need to perform in order to analyze and reverse engineering iOS applications. And the bonus is this can all be performed right on the device.</i></p>





      
       <a href="/2014/03/25/ios-application-security-part-32-automating-tasks-with-ios-reverse-engineering-toolkit-iret">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-18T17:40:00+04:00" pubdate data-updated="true">Mar 18<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/03/18/ios-application-security-part-31-the-problem-with-using-third-party-libraries-for-securing-your-apps#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/03/18/ios-application-security-part-31-the-problem-with-using-third-party-libraries-for-securing-your-apps">iOS Application Security Part 31 - The problem with using third party libraries for securing your apps</a></h1>
      <p>In this article, we will talk about why we shouldn&rsquo;t completely rely on using third party libraries for securing our apps. Usually, some of the things we try to do in our application are adding checks to detect piracy, jailbroken device etc. It is such a pain to write all the code from scratch which is why we usually resort to using third party libraries that can get the job done for us. In this example, we will be looking at a library named <i>AntiPiracy</i> which can be found on <a href="https://github.com/Shmoopi/AntiPiracy">this</a> url that aims to solve our problem.</p>

<p>On a first glance, it looks amazing .. here is a snippet of the description from it&rsquo;s github page</p>

<p><i>The Full Shmoopi Anti-Piracy Library utilizes over a dozen algorithms to detect piracy, (not just four) including:</p>

<p><em>Signer Identity Checks </em>Process ID Checks <em>Plist Checks </em>Bundled Item Checks (CodeRules, Resources, Etc) <em>Encryption Checks </em>Anti-Debugging <em>Encryption Checks </em>Anti-Tampering <em>Binary Checks </em>Integrity Checks <em>CRC Checks </em>MD5/SHA1 Hashing Checks *And much, much more…</p>

<p></i></p>

<p>Looks great. Here is a screenshot from its Github page that explains the implementation.</p>


      
       <a href="/2014/03/18/ios-application-security-part-31-the-problem-with-using-third-party-libraries-for-securing-your-apps">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-12T11:53:00+04:00" pubdate data-updated="true">Mar 12<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/03/12/how-to-distribute-ipa-for-jailbroken-devices#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/ios/"><span class="badge">ios</span></a>
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/03/12/how-to-distribute-ipa-for-jailbroken-devices">How to distribute IPA file for jailbroken devices</a></h1>
      <p>So i have been getting a few queries on how to create an IPA file from Xcode and distribute it for jailbroken devices. Here is how i did it for <a href="http://damnvulnerableiosapp.com">Damn Vulnerable iOS App</a>.</p>

<p>First we need to run the application using Xcode on the device. This requires a valid provisioning profile. I am doing this on Xcode 5.x but on the previous versions of Xcode, it was possible to run the application on the device without a valid provisioning profile.</p>

<p>Once the application is installed on the device, copy the .app folder from the device on your system.</p>

<p><img src="/images/posts/distribute/1.png" width="525" height="320" alt="2"></p>


      
       <a href="/2014/03/12/how-to-distribute-ipa-for-jailbroken-devices">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-07T01:25:00+04:00" pubdate data-updated="true">Mar 7<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/03/07/ios-application-security-part-30-attacking-url-schemes#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/03/07/ios-application-security-part-30-attacking-url-schemes">iOS Application Security Part 30 - Attacking URL schemes</a></h1>
      <p>In this article, we will look at how we can use a feature in iOS named url schemes to exploit an application. URL schemes are used by applications to communicate with each other. Every application can register for a particular url scheme. For e.g, the <a href="http://damnvulnerableiosapp.com">Damn Vulnerable iOS application</a> registers for the url scheme <i>dvia</i>. This means that any url starting with dvia:// protocol will open up the dvia application. Depending on the parameters and the endpoint in this url, the dvia application can decide what to do it. Another example is the phone application in iOS. It registers for the url scheme <i>tel</i> and a url like tel://1-393-222-2222 will invoke the phone application and call a number. The problem arises when the url is not validated or the user is not prompted for confirmation in the application before making a particular decision. </p>




<p>The first step is to find the actual url scheme an application is registered to. This information can be found by looking at the info.plist file in the application sandbox folder using any file explorer utility like iExplorer.</p>


<p><img src="/images/posts/ios30/2.png" width="502" height="372" alt="2"></p>


      
       <a href="/2014/03/07/ios-application-security-part-30-attacking-url-schemes">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-03-06T15:15:00+04:00" pubdate data-updated="true">Mar 6<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/03/06/gdb-issue#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/03/06/gdb-issue">GDB segmentation fault issue fix with jailbroken device</a></h1>
      <p>If you have been experiencing segmentation fault issues with GDB while attaching to a process on a jailbroken iOS device, it is because the GDB that comes with Cydia is broken and you need to install a proper version.</p>

<p>You can download a proper working version of GDB from <a href="https://dl.dropboxusercontent.com/u/34557464/gdb">here</a>.</p>

<p>You need to copy this executable into <i>/usr/bin</i> on your jailbroken iOS device and give it executable permissions.</p>

<p>If it still doesn&rsquo;t work, let me know what issue you are facing by writing a comment below.</p>

      
      
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-01-17T21:41:00+04:00" pubdate data-updated="true">Jan 17<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/01/17/ios-application-security-part-29-insecure-or-broken-cryptography#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/01/17/ios-application-security-part-29-insecure-or-broken-cryptography">iOS Application Security Part 29 - Insecure or Broken Cryptography</a></h1>
      <p>In this article we will look at an example of Insecure or Broken Cryptography which is a common vulnerability found in most iOS applications. This vulnerability occurs when the data stored on the device is not encrypted properly thereby allowing a malicious user to gain access to that information. There could be many reasons for an improper implementaion of encrytption, using hardcoded keys for encryption, bad algorithms etc can all be the cause for an implementation that is not secure.</p>




<p>I would recommend you have a look at <a href="https://developer.apple.com/library/mac/documentation/security/conceptual/cryptoservices/GeneralPurposeCrypto/GeneralPurposeCrypto.html">Apple&#8217;s documentation</a> on Encrypting and hashing data.</p>




<p>In this article, we will look at an example of how we can spot and break an incorrectly implemented encrytion technique. For this article, we will be testing on the application <a href="https://github.com/prateek147/InsecureCryptography-Demo">InsecureCryptography-Demo</a> that you can download from my Github profile. Download it and run on the simulator or on the device. Let&#8217;s look at what this application does. Once you start the application for the first time, it asks you to set up a new password to get started.</p>


<p><img src="/images/posts/ios29/1.png" width="328" height="396" alt="1"></p>


      
       <a href="/2014/01/17/ios-application-security-part-29-insecure-or-broken-cryptography">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-01-17T21:41:00+04:00" pubdate data-updated="true">Jan 17<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/01/17/ios-application-security-part-28-patching-ios-application-with-hopper#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/01/17/ios-application-security-part-28-patching-ios-application-with-hopper">iOS Application Security Part 28 - Patching iOS Application with Hopper</a></h1>
      <p>In <a href="http://highaltitudehacks.com/2013/12/17/ios-application-security-part-26-patching-ios-applications-using-ida-pro-and-hex-fiend">Part 26</a> of this series, we looked at how we can use IDA Pro and Hex Fiend to patch an iOS application and modify its implementation. Patching an application has the specific advantage that once a change has been made, it is permanent. However, if you look back at the article on <a href="http://highaltitudehacks.com/2013/12/17/ios-application-security-part-26-patching-ios-applications-using-ida-pro-and-hex-fiend">IDA Pro</a>, you will realize that the process of patching the application was a bit tedious, mainly because we didn&#8217;t have a licensed version of IDA Pro which costs a lot. In this article, we will look at a utility named Hopper which we can use as an alternative to IDA Pro. It is less costly than IDA Pro and also provides a sleek interface to work with.</p>




<p>According to Hopperapp.com ..</p>




<p><i>Hopper is a reverse engineering tool for OS X, Linux and Windows, that lets you disassemble, decompile and debug (OS X only) your 32/64bits Intel Mac, Windows and iOS (ARM) executables! Take a look at the feature list below! </i></p>





      
       <a href="/2014/01/17/ios-application-security-part-28-patching-ios-application-with-hopper">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2014-01-17T21:35:00+04:00" pubdate data-updated="true">Jan 17<span>th</span>, 2014</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2014/01/17/ios-application-security-part-27-setting-up-a-mobile-pentesting-environment-with-ios-7-jailbreak#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2014/01/17/ios-application-security-part-27-setting-up-a-mobile-pentesting-environment-with-ios-7-jailbreak">iOS Application Security Part 27 - Setting up a mobile pentesting environment with iOS 7 Jailbreak</a></h1>
      <p>In this article we will look at how we can set up a mobile pentesting platform on our device with the new iOS 7 jailbreak. There has been quite a lot of discussion on the web about whether it is safe for a user to jailbreak their devices yet. However, if you are really interested in iOS pentesting then there is no absolutely no reason now why you shouldn&#8217;t jailbreak your device. Since this jailbreak was launched by the evasi0n team without any prior notice to the developers, most of the tweaks didn&#8217;t work with iOS 7 when the jailbreak was first made public. One of the most critical pieces of software Mobile Substrate which is used in many tweaks initially didn&#8217;t work on iOS 7. However, things have settled down since then. An update for Mobile Substrate (named Cydia Substrate) was released a few weeks back and many tweaks were also updated for iOS 7. Some things however don&#8217;t work well on iOS 7 devices. In this article, we will look at all those things which we need to do to set up a proper pentesting platform on a device running iOS 7. </p>





      
       <a href="/2014/01/17/ios-application-security-part-27-setting-up-a-mobile-pentesting-environment-with-ios-7-jailbreak">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-12-17T13:08:00+04:00" pubdate data-updated="true">Dec 17<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2013/12/17/ios-application-security-part-26-patching-ios-applications-using-ida-pro-and-hex-fiend#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2013/12/17/ios-application-security-part-26-patching-ios-applications-using-ida-pro-and-hex-fiend">iOS Application Security Part 26 – Patching iOS Applications using IDA Pro and Hex Fiend</a></h1>
      <p>In the <a href="http://highaltitudehacks.com/security">previous</a> applications we have looked at how we can hijack method implementations during runtime using Cycript, and even change the logic of the code rather than changing the complete implementation using GDB. All of these things have been done to serve a purpose, which is to make the application do what we want. However, using Cycript or GDB is a bit of a pain as one has to do repeat the same process everytime after you restart the application. This is where patching the application is useful. Once a change has been made in the application&#8217;s binary, its permanent. So you don&#8217;t have to repeat the same process over and over again. Once the binary is patched, you can then run it on a jailbroken device with the changed logic.</p>




<p>In this article, we will be using the same application <a href="https://github.com/prateek147/gdb-demo">GDB-Demo</a> that we had used in <a href="http://resources.infosecinstitute.com/ios-application-security-part-22-runtime-analysis-manipulation-using-gdb/">Part 22</a> of this series. If you remember, we had found a way to change the logic of the method that gets called when Login was tapped and hence bypassed the login authentication check. In this article, we are going to permanently patch this check so we are always authenticated.</p>





      
       <a href="/2013/12/17/ios-application-security-part-26-patching-ios-applications-using-ida-pro-and-hex-fiend">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-12-17T13:07:00+04:00" pubdate data-updated="true">Dec 17<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2013/12/17/ios-application-security-part-25-secure-coding-practices-for-ios-development#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2013/12/17/ios-application-security-part-25-secure-coding-practices-for-ios-development">iOS Application Security Part 25 – Secure Coding Practices for iOS Development</a></h1>
      <p>In this article, we will look at some of the best practices an iOS developer should follow in order to make sure that their application is not easily exploitable by hackers.</p>




<h3>Local Data Storage</h3>




<p>It is extremely important for developers to know what kind of data they should be storing locally in their application. Frankly speaking, no data is secure when stored locally in the application. In <a href="http://highaltitudehacks.com/2013/10/26/ios-application-security-part-20-local-data-storage-nsuserdefaults">part 20</a> of this series, we have looked at Local Data Storage in great detail.</p>





      
       <a href="/2013/12/17/ios-application-security-part-25-secure-coding-practices-for-ios-development">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-12-17T12:33:00+04:00" pubdate data-updated="true">Dec 17<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2013/12/17/ios-application-security-part-24-jailbreak-detection-and-evasion#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2013/12/17/ios-application-security-part-24-jailbreak-detection-and-evasion">iOS Application Security Part 24 – Jailbreak Detection and Evasion</a></h1>
      <p>In this article, we will look at the checks a developer can incorporate in his application to check whether the device on which the application is running is jailbroken or not. Checking whether a device is jailbroken or not can have many advantages for your application. As we have already seen, an attacker can run tools like Cycript, GDB, Snoop-it etc to perform runtime analysis and steal sensitive data from within your application. If you are really looking to add an extra layer of security for your application, you should not allow your application to be run on a jailbroken device. Please note that millions of users jailbreak their devices and hence not allowing an application to be run on a jailbroken device could have a significant impact on your user base. Another thing you can do is instead block some of the features in your application rather than disabing it entirely. We will also look at how hackers can bypass the check for jailbreak detection in your application using Cycript.</p>


<p></p>

<p>Once a device is jailbroken, a lot of other files and applications are installed on the devcice. Checking for these files in the filesystem can help us identify whether the device is jailbroken or not. For e.g, most of the jailbreak softwares install Cydia on the device after jailbreaking. Hence just a simple check for the file path of Cydia can determine whether the device is jailbroken or not.</p>



      
       <a href="/2013/12/17/ios-application-security-part-24-jailbreak-detection-and-evasion">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
    <hr>
    
  
  
    <article>
      

  <div class="row-fluid">
    <div class="span2">
		<h1 class="date-time">








  


<i class="icon-calendar-empty"></i> <time datetime="2013-12-17T10:37:00+04:00" pubdate data-updated="true">Dec 17<span>th</span>, 2013</time></h5>
          <div class="row-fluid">
          
          <a href="http://prateek147.github.io/2013/12/17/ios-application-security-part-23-defending-against-runtime-analysis-and-manipulation#disqus_thread">Comments </a> <span class="fui-bubble-16"></span>
          
          </div>
          
          <div class="row-fluid">
          
          <a href="//categories/security/"><span class="badge">security</span></a>
          
          </div>
          
    </div>
    <div class="span10">
      <h1 class="link"><a href="/2013/12/17/ios-application-security-part-23-defending-against-runtime-analysis-and-manipulation">iOS Application Security Part 23 – Defending against runtime analysis and manipulation</a></h1>
      <p>In the <a href="http://highaltitudehacks.com/security/">previous</a> articles, we have looked at how we can use debuggers and tools like Cycript to do runtime analysis and manipulation of iOS Applications. We have looked at how we can modify the actual implementation of a method during runtime by changing the values in the registers using GDB, and also looked at how we can completely <a href="http://highaltitudehacks.com/2013/07/25/ios-application-security-part-8-method-swizzling-using-cycript">swizzle</a> method implementations using tools like Cycript. With tools like Cycript and GDB in his arsenal and with a copy of your application&#8217;s binary, the attacker is is complete control. However, there are certain techniques a developer can use to make the job of the hacker much more difficult. In this article, we will look at the techniques a developer can use in his application to defend it against runtime analysis and manipulation.</p>




<p>In Xcode, there are certain checks that an attacker can use to determine whether an application is being debugged or not. In Xcode, use the following piece of code wherever you want to put a check for a debugger.</p>




<pre>
    #ifndef DEBUG
        SEC_IS_BEING_DEBUGGED_RETURN_NIL();
    #endif
</pre>





      
       <a href="/2013/12/17/ios-application-security-part-23-defending-against-runtime-analysis-and-manipulation">Read on &rarr;</a> 
    </div>
  </div>



    </article>
    
  
  <div class="pagination">
    
    <a class="prev" href="/downloads/code/page/2/">&larr; Older</a>
    

    
  </div>
</div>


        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2014 - Prateek Gianchandani -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41877509-1', 'highaltitudehacks.com');
  ga('send', 'pageview');

</script>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=9078428; 
var sc_invisible=1; 
var sc_security="a08bf0bd"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web analytics"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="http://c.statcounter.com/9078428/0/a08bf0bd/1/"
alt="web analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
        </footer>
      </div>
    </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'highaltitudehacks';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
